<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <script>
            //a function to return an integer between 1 and the target value, will be used to roll rps
            function random(max){
                return Math.floor(Math.random()*max+1);
            }
            //player function to get input and see if its valid, throws -1 if it is not
            function pPlay(choice=prompt('choose rock paper or scissors').toLowerCase()){
                if((choice=='rock')||(choice=='paper')||(choice=='scissors')){
                    return choice;
                }
                else{
                    return -1;
                }
            }
            //function randomly chooses an option for the computer
            function comPlay(){
                let roll=random(3);
                switch (roll){
                    case 1:
                        return 'rock';
                    case 2:
                        return 'paper';
                    case 3:
                        return 'scissors';
                }
            }
            //function plays a round
            function round(pChoice=comPlay(),cChoice=comPlay()){
                if((pChoice=='rock'&&cChoice=='scissors')||(pChoice=='paper'&&cChoice=='rock')||(pChoice=='scissors'&&cChoice=='paper')){
                    return 'win';
                }else if(pChoice==cChoice){
                    return 'tie';
                }else{
                    return 'loss';
                }
            }
            //function plays a game using above methods
            function game(rounds=5){
                let pScore=0,cScore=0,pChoice,cChoice,outcome;
                while(rounds>0){
                    pChoice=pPlay();
                    cChoice=comPlay();
                    if(pChoice!=-1){
                        outcome=round(pChoice,cChoice); 
                        if(outcome=='win'){
                            console.log(`you win! ${pChoice} beats ${cChoice}!`);
                            pScore++;
                            rounds--;
                        }else if(outcome=='loss'){
                            console.log(`you lose! ${cChoice} beats ${pChoice}!`);
                            cScore++;
                            rounds--;
                        }else{
                            console.log('Tie! nobody wins!');
                            rounds--;
                        }
                       
                    }
                }
            }
        </script>
    </head>
    <body>
        
    </body>
</html>